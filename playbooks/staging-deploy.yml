---
- hosts: localhost
  connection: local

  tasks:
    - set_fact:
        namespace: javalin-seed-staging
        hostname: staging.javalin-seed.home.ruchij.com

    - name: Set kube_config
      import_tasks: tasks/k8s-config.yml

    - name: Set config values and secrets
      import_tasks: tasks/configs-and-secrets.yml

    - name: Deploy to staging
      import_tasks: tasks/k8s-deploy.yml